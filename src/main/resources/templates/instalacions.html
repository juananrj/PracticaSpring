<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta th:id="pageHeader" content="instalacionsPage">
    <link rel="stylesheet" th:href="@{webjars/bootstrap/5.2.3/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <title>Instalacions Esportives</title>
    <style>
        body {
            background-color: #ebe6f2;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        th {
            border: 1px solid #6a0572;
            padding: 8px;
            background-color: #6a0572;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        td {
            border: 1px solid #6a0572;
            padding: 8px;
            background-color: #d9b3e6;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <table class="table" id="instalacionsTable">
        <thead>
        <tr>
            <th onclick="sortTable(0)">Anys</th>
            <th onclick="sortTable(1)">Camps Poliesportius</th>
            <th onclick="sortTable(2)">Espais de Atletisme</th>
            <th onclick="sortTable(3)">Piscines al aire lliure</th>
            <th onclick="sortTable(4)">Piscines cobertes</th>
            <th onclick="sortTable(5)">Pistes Poliesportives</th>
            <th onclick="sortTable(6)">Pavellons</th>
            <th onclick="sortTable(7)">Pistes de Tennis</th>
            <th onclick="sortTable(8)">Pistes de Padel</th>
            <th onclick="sortTable(9)">Sales Esportives</th>
            <th onclick="sortTable(10)">Pistes de Esquaix</th>
            <th onclick="sortTable(11)">Frontons</th>
            <th onclick="sortTable(12)">Espais de Petanca</th>
            <th onclick="sortTable(13)">Altres Espais Esportius</th>
            <th onclick="sortTable(14)">Rees de Activitat Esportiva</th>
            <th onclick="sortTable(15)">Total Espais Censats</th>
            <th onclick="sortTable(16)">Instal·lacions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="instalacio : ${instalacionsDades}">
            <td th:text="${instalacio.anys}"></td>
            <td th:text="${instalacio.camps_poliesportius}"></td>
            <td th:text="${instalacio.espais_d_atletisme}"></td>
            <td th:text="${instalacio.piscines_a_l_aire_lliure}"></td>
            <td th:text="${instalacio.piscines_cobertes}"></td>
            <td th:text="${instalacio.pistes_poliesportives}"></td>
            <td th:text="${instalacio.pavellons}"></td>
            <td th:text="${instalacio.pistes_de_tennis}"></td>
            <td th:text="${instalacio.pistes_de_p_del}"></td>
            <td th:text="${instalacio.sales_esportives}"></td>
            <td th:text="${instalacio.pistes_d_esquaix}"></td>
            <td th:text="${instalacio.frontons}"></td>
            <td th:text="${instalacio.espais_de_petanca}"></td>
            <td th:text="${instalacio.altres_espais_esportius}"></td>
            <td th:text="${instalacio.rees_d_activitat_esportiva}"></td>
            <td th:text="${instalacio.total_espais_censats}"></td>
            <td th:text="${instalacio.instal_lacions}"></td>
        </tr>
        </tbody>
    </table>
</div>

<script>
    function sortTable(columnIndex) {
        var table, rows, switching, i, x, y, shouldSwitch;
        table = document.getElementById("instalacionsTable");
        switching = true;

        while (switching) {
            switching = false;
            rows = table.getElementsByTagName("tr");

            for (i = 1; i < (rows.length - 1); i++) {
                shouldSwitch = false;

                x = rows[i].getElementsByTagName("td")[columnIndex];
                y = rows[i + 1].getElementsByTagName("td")[columnIndex];

                if (isNaN(x.innerText)) {
                    // Si el contenido no es un número, realiza una comparación de cadena
                    if (x.innerText.toLowerCase() > y.innerText.toLowerCase()) {
                        shouldSwitch = true;
                        break;
                    }
                } else {
                    // Si el contenido es un número, realiza una comparación numérica
                    if (Number(x.innerText) > Number(y.innerText)) {
                        shouldSwitch = true;
                        break;
                    }
                }
            }

            if (shouldSwitch) {
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
            }
        }
    }
</script>

</body>
</html>
